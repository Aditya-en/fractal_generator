<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fractal Generator</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
  <div class="sidebar">
    <h1>Fractal Generator</h1>
    <div class="sidebar-content">
      <div class="column" id="left-column">
        <div class="section">
          <h3>🎨 Presets</h3>
          <button class="preset-btn" onclick="loadPreset('mandelbrot-classic')">Classic Mandelbrot</button>
          <button class="preset-btn" onclick="loadPreset('burning-ship')">Burning Ship</button>
          <button class="preset-btn" onclick="loadPreset('nebula-mode')">Nebula Mode</button>
          <button class="preset-btn" onclick="loadPreset('julia-spiral')">Julia Spiral</button>
          <button class="preset-btn" onclick="loadPreset('electric-julia')">Electric Julia</button>
        </div>
      </div>
      <div class="column" id="right-column">
        <div class="section">
          <h3>⚙️ Parameters</h3>
          <label>Fractal Type:</label>
          <select id="type">
            <option value="mandelbrot">Mandelbrot</option>
            <option value="julia">Julia</option>
          </select>

          <label>Width:</label>
          <input id="width" type="number" value="400" />

          <label>Height:</label>
          <input id="height" type="number" value="400" />

          <label>Max Iterations:</label>
          <input id="max_iter" type="number" value="200" />

          <label>Zoom:</label>
          <input id="zoom" type="number" step="0.1" value="1.0" />

          <label>Rule:</label>
          <input id="rule" type="text" value="z**2 + c" />

          <label>Colormap:</label>
          <select id="colormap">
            <option value="turbo">Turbo</option>
            <option value="twilight">twilight</option>
            <option value="plasma">Plasma</option>
            <option value="viridis">Viridis</option>
            <option value="hot">Hot</option>
            <option value="cool">Cool</option>
            <option value="rainbow">Rainbow</option>
            <option value="magma">Magma</option>
            <option value="twilight_shifted">twilight_shifted</option>
            <option value="inferno">Inferno</option>
            <option value="cubehelix">Cubehelix</option>
            <option value="cividis">Cividis</option>
          </select>

          <label>Gamma:</label>
          <input id="gamma" type="number" step="0.1" value="0.3" />

          <div id="julia-params" class="hidden">
            <label>c_real:</label>
            <input id="c_real" type="number" step="0.01" value="-0.8" />

            <label>c_imag:</label>
            <input id="c_imag" type="number" step="0.01" value="0.156" />
          </div>
        </div>

        <div class="section">
          <h3>🎯 Actions</h3>
          <div class="action-buttons">
            <button class="download-btn" onclick="downloadImage()">💾 Download</button>
            <button class="save-btn" onclick="saveToFavorites()">⭐ Save Favorite</button>
            <button class="share-btn" onclick="shareImage()">🔗 Share URL</button>
          </div>
        </div>

        <div class="section">
          <h3>⭐ My Favorites</h3>
          <div id="favorites-container" class="favorites-grid"></div>
          <button onclick="clearAllFavorites()" style="background: #dc3545; margin-top: 10px;">🗑️ Clear All</button>
        </div>
      </div>
    </div>
    <div class="generate-wrapper">
      <button onclick="generateFractal()">🎨 Generate Fractal</button>
    </div>
  </div>

  <div class="image-container">
    <div id="spinner" class="hidden"></div>
    <img id="output" src="" alt="Generated Fractal" />
  </div>

  <div id="captcha-modal" class="modal hidden">
    <div class="modal-content">
      <h2>CAPTCHA verification Required</h2>
      <div class="cf-turnstile"></div>
      <button onclick="closeCaptchaModal()">Cancel</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
